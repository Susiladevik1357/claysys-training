<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Event Planner</title>
 <link rel="stylesheet" href="style.css"/>
</head>
<body>

<div id="auth-area">
  <div class="login-page">
    <div class="login-container">
      <div class="login-brand">
        <div class="login-logo">ðŸ“…</div>
        <h1 class="login-title">Event Planner</h1>
      </div>
      <div class="login-box">
        <label for="loginUser">Enter your name</label>
        <input id="loginUser" class="login-input" placeholder="username">
        <label for="loginRole">Choose role</label>
        <select id="loginRole" class="login-select">
          <option value="User">User</option>
          <option value="Admin">Admin</option>
        </select>
        <div class="login-buttons">
          <button class="login-btn" onclick="loginNoCredential()">Continue</button>
          <button class="login-btn alt" onclick="clearLocal()">Reset Data</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- APP -->
<div class="app">
  <div class="sidebar">
    <div class="sidebar-header"><strong id="welcomeText"></strong></div>
    <div class="sidebar-nav nav-admin">
      <button onclick="showAdminSection('dashboard')">Dashboard</button>
      <button onclick="showAdminSection('users')">Users</button>
      <button onclick="showAdminSection('categories')">Categories</button>
      <button onclick="showAdminSection('backups')">Backups</button>
    </div>
    <div class="sidebar-nav nav-user">
      <button onclick="showUserSection('events')">Events</button>
      <button onclick="showUserSection('guests')">Guests</button>
      <button onclick="showUserSection('agenda')">Agenda</button>
    </div>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </div>
  <div class="main-content">
    <div class="topbar">
      <h1 id="pageTitle"></h1>
      <div id="roleLabel" class="muted"></div>
    </div>

<!-- ================= ADMIN SECTIONS ================= -->
 <div id="admin-dashboard" class="section">
      <h2>Admin Dashboard</h2>
      <div class="tiles">
        <div class="tile">
          <h3>Users</h3>
          <p id="adminUserCount">0</p>
        </div>
        <div class="tile">
          <h3>Categories</h3>
          <p id="adminCategoryCount">0</p>
        </div>
        <div class="tile">
          <h3>Events</h3>
          <p id="adminEventCount">0</p>
        </div>
        <div class="tile">
          <h3>Backups</h3>
          <p id="adminBackupCount">0</p>
        </div>
      </div>
      <div class="list">
        <div class="card">
          <h3>Quick Actions</h3>
          <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap">
            <button class="small purple" onclick="openCreateAdmin()">Create Admin</button>
            <button class="small" onclick="downloadData()">Export Data</button>
            <button class="small" onclick="clearAllData()">Clear All Data</button>
          </div>
        </div>
      </div>
    </div>

<div id="admin-users" class="section">
  <h2>User Management</h2>
  <div class="card">
    <input id="filterUsers" placeholder="Search users..." onkeyup="renderAdminUsers()">
    <select id="filterRole" onchange="renderAdminUsers()">
      <option value="">All Roles</option>
      <option>Admin</option>
      <option>User</option>
    </select>
  </div>
  <h2>User List</h2>
  <div class="card">
    <table id="usersTable"><thead><tr><th>Username</th><th>Email</th><th>Role</th><th>Actions</th></tr></thead><tbody></tbody></table>
  </div>
</div>

<div id="admin-categories" class="section">
      <h2>Categories</h2>
      <div class="card">
        <input id="newCategory" placeholder="New category...">
        <button class="small" onclick="addCategory()">Add</button>
      </div>
      <h2>Category List</h2>
      <div class="card">
        <table id="categoryTable"><tbody></tbody></table>
      </div>
    </div>

<div id="admin-backups" class="section">
  <h2>Data Backups</h2>
  <div class="card">
    <button class="small green" onclick="createBackup()">+ Create Backup</button>
  </div>
  <div class="card">
    <ul id="backupList" class="backup-list"></ul>
  </div>
</div>

<!-- ================= USER SECTIONS ================= -->
<div id="user-events" class="section">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h2>Events</h2>
    <button class="small" onclick="openEventModal()">+ Add Event</button>
  </div>
  <div class="card">
    <input id="searchEvent" placeholder="Search events..." oninput="renderEvents()"/>
    <select id="filterEventStatus" onchange="renderEvents()">
      <option value="">All Status</option>
      <option value="Planning">Planning</option>
      <option value="Ongoing">Ongoing</option>
      <option value="Completed">Completed</option>
    </select>
  </div>
  <div id="eventsList" style="display:grid;gap:10px;margin-top:10px"></div>
</div>

<div id="user-guests" class="section">
  <h2>Guest Management</h2>
  <div class="card">
    <div style="display:flex;gap:8px;flex-wrap:wrap">
      <input id="guestName" placeholder="Guest name" />
      <input id="guestEmail" placeholder="Guest email" />
      <select id="guestEventSelect"></select>
      <input id="guestRSVP" placeholder="RSVP (Yes/No/Maybe)" />
      <button class="small green" onclick="addOrUpdateGuest()">Add/Update Guest</button>
      <button class="small blue" onclick="sendInvitations()">Send Invitations</button>
    </div>
  </div>
  <div class="card">
    <table id="guestTable">
      <thead><tr><th>Name</th><th>Email</th><th>Event</th><th>RSVP</th><th>Actions</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<div id="user-agenda" class="section">
  <h2>Agenda</h2>
  <div class="card">
    <div style="display:flex;gap:8px;flex-wrap:wrap">
      <input id="agendaTitle" placeholder="Agenda Title" />
      <select id="agendaEventSelect"></select>
      <textarea id="agendaDesc" placeholder="Description"></textarea>
      <button class="small green" onclick="addAgenda()">Add Agenda</button>
    </div>
  </div>
  <div id="agendaList"></div>
</div>

<!-- ================= MODALS ================= -->
<div id="eventModal" class="modal">
  <div class="panel">
    <h3>Event</h3>
    <input id="evName" placeholder="Event Name">
    <input type="date" id="evDate">
    <input type="time" id="evTime">
    <select id="evCategory"></select>
    <select id="evStatus">
      <option value="Planning">Planning</option>
      <option value="Ongoing">Ongoing</option>
      <option value="Completed">Completed</option>
    </select>
    <textarea id="evDesc" placeholder="Description"></textarea>
    <div class="modal-buttons">
      <button class="save" onclick="saveEvent()">Save</button>
      <button class="cancel" onclick="closeEventModal()">Cancel</button>
    </div>
  </div>
</div>

</div>
</div>
<script src="script.js"></script>
</body>
</html>

